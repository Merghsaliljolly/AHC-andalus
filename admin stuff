<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Admin Dashboard</title> <link rel="stylesheet" href="styles.css"> </head> <body> <div class="container"> <h1 class="title">Air Hockey Tournament Admin Dashboard</h1> <!-- Player Management --> <section class="section"> <h2>Add Player</h2> <form id="playerForm" class="form"> <input type="text" id="playerName" placeholder="Player Name" required class="input"/> <input type="text" id="group" placeholder="Group (A, B, etc.)" required class="input"/> <button type="submit" class="button">Add Player</button> </form> </section> <!-- Player List --> <section class="section"> <h2>Players</h2> <div id="playerList" class="list"></div> </section> <!-- Match Scheduling --> <section class="section"> <h2>Schedule Match</h2> <form id="matchForm" class="form"> <select id="player1" class="input"></select> <select id="player2" class="input"></select> <button type="submit" class="button">Schedule Match</button> </form> </section> <!-- Match List --> <section class="section"> <h2>Scheduled Matches</h2> <div id="matchList" class="list"></div> </section> </div> <script> const playerForm = document.getElementById('playerForm'); const matchForm = document.getElementById('matchForm'); const playerList = document.getElementById('playerList'); const matchList = document.getElementById('matchList'); playerForm.addEventListener('submit', async (e) => { e.preventDefault(); const playerName = document.getElementById('playerName').value; const group = document.getElementById('group').value; const response = await fetch('/add-player', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ name: playerName, group }) }); if (response.ok) { alert('Player added successfully'); fetchPlayers(); } else { alert('Error adding player'); } }); matchForm.addEventListener('submit', async (e) => { e.preventDefault(); const player1 = document.getElementById('player1').value; const player2 = document.getElementById('player2').value; const group = players.find(p => p.name === player1).group; // Assuming players belong to same group const response = await fetch('/schedule-match', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ player1, player2, group }) }); if (response.ok) { alert('Match scheduled'); fetchMatches(); } else { alert('Error scheduling match'); } }); async function fetchPlayers() { const response = await fetch('/players'); const players = await response.json(); playerList.innerHTML = players.map(player => `<p>${player.name} - Group: ${player.group} | Wins: ${player.wins} | Losses: ${player.losses}</p>`).join(''); const player1Select = document.getElementById('player1'); const player2Select = document.getElementById('player2'); player1Select.innerHTML = players.map(player => `<option value="${player.name}">${player.name}</option>`).join(''); player2Select.innerHTML = players.map(player => `<option value="${player.name}">${player.name}</option>`).join(''); } async function fetchMatches() { const response = await fetch('/matches'); const matches = await response.json(); matchList.innerHTML = matches.map(match => `<p>${match.player1} vs ${match.player2} - Status: ${match.result || 'Scheduled'}</p>` ).join(''); } fetchPlayers(); fetchMatches(); </script> </body> </html>
