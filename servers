const express = require('express'); const app = express(); app.use(express.json()); let players = []; // Temporary data storage, replace with database if needed let matches = []; // Store scheduled matches and results // API to add a player app.post('/add-player', (req, res) => { const { name, group } = req.body; players.push({ name, group, wins: 0, losses: 0 }); res.send({ success: true, message: 'Player added successfully' }); }); // API to get all players app.get('/players', (req, res) => { res.send(players); }); // API to schedule a match app.post('/schedule-match', (req, res) => { const { player1, player2, group } = req.body; matches.push({ player1, player2, group, result: null }); res.send({ success: true, message: 'Match scheduled successfully' }); }); // API to update match result app.post('/update-result', (req, res) => { const { matchId, winner } = req.body; const match = matches.find(m => m.id === matchId); if (match) { match.result = winner; // Update player stats const winningPlayer = players.find(p => p.name === winner); const losingPlayer = players.find(p => p.name !== winner); if (winningPlayer) winningPlayer.wins += 1; if (losingPlayer) losingPlayer.losses += 1; res.send({ success: true, message: 'Match result updated' }); } else { res.send({ success: false, message: 'Match not found' }); } }); // Start the server const PORT = 3000; app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
